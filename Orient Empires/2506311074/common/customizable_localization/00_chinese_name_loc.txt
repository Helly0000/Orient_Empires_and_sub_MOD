nianhao_date = {
	type = character
	text = {
		localization_key = nianhao_date_self
		trigger = {
			has_nianhao_trigger = yes
		}
	}
	text = {
		localization_key = nianhao_date_top_liege
		fallback = yes
	}
}
###王谥？帝谥？
GetUIchinaTitle = {
	type = character
	text = {
		localization_key = Loc_GetUIchinaTitleKing
		trigger = {
			highest_held_title_tier = tier_kingdom
			culture = { has_cultural_pillar = heritage_chinese }
		}
	}
	text = {
		localization_key = Loc_GetUIchinaTitleEmperor
		trigger = {
			highest_held_title_tier > tier_kingdom
			culture = { has_cultural_pillar = heritage_chinese }
		}
	}
	text = {
		localization_key = Loc_GetUIchinaTitleEmperor
		trigger = {
			culture = { has_cultural_pillar = heritage_chinese }
			has_miaohao_trigger = yes
			highest_held_title_tier < tier_kingdom
		}
	}
	text = {
		localization_key = Loc_GetUIsteppeTitleEmperor
		trigger = {
			OR = {
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_mongol }
			}
			has_miaohao_trigger = yes
			highest_held_title_tier >= tier_kingdom
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_GetUIchinaTitleDefault
		fallback = yes
	}
}
#头衔历史窗口/庙号
china_GetUINameNotMeNoTooltip = {
	type = character
	# Religion Head
	text = {
		localization_key = Loc_OE_TennoGetUINameNotMeNoTooltip
		trigger = {
			culture = { has_cultural_pillar = heritage_yamato }
			dynasty = dynasty:10000420
			OR = {
				AND = {
					exists = primary_title
					primary_title = title:d_gosho
				}
				AND = {
					exists = primary_title
					primary_title = title:k_yamato
				}
				has_title = title:d_gosho
			}
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Religious
		trigger = {
			OR = {
				religion = religion:taoism_religion
			}
			has_any_nickname = no			
			exists = primary_title
			exists = faith.religious_head_title
			primary_title = faith.religious_head_title
			NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_china_GetUINameNotMeNoTooltip
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_name_list = name_list_bai }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_cultural_pillar = heritage_qiangic }
				culture = { has_cultural_pillar = heritage_yues }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
			}
			has_miaohao_trigger = yes
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_china_GetUINameNoMHNotMeNoTooltip
		trigger = {
			has_miaohao_trigger = no
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_china_GetHistoryNameNoMHNotMeNoTooltip
		fallback = yes
	}
}

Sheauhaw_GetPrincePrincess = {
	type = character

	text = {
		localization_key = prince
		trigger = {
			is_female = no
		}
	}

	text = {
		localization_key = princess
		trigger = {
			is_female = yes
		}
	}
}

Sheauhaw_GetPrincePrincess_Empire = {
	type = character

	text = {
		localization_key = prince_empire
		trigger = {
			is_female = no
		}
	}

	text = {
		localization_key = princess_empire
		trigger = {
			is_female = yes
		}
	}
}

#人物窗口
OE_GetUINameNotMeNoTooltip = {
	type = character
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Religious
		trigger = {
			OR = {
				religion = religion:taoism_religion
				religion = religion:confucianism_religion
			}
			has_any_nickname = no			
			exists = primary_title
			exists = faith.religious_head_title
			primary_title = faith.religious_head_title
			NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Steppe
		trigger = {
			OR = {
				#culture = { has_name_list = name_list_mongol }
				culture = { has_name_list = name_list_yughur }
				culture = { has_name_list = name_list_karluk }
				#culture = { has_name_list = name_list_turkish }
				culture = { has_name_list = name_list_cuman }
				culture = { has_name_list = name_list_avar }	
				culture = { has_name_list = name_list_kimek }
				culture = { has_name_list = name_list_khazar }
				culture = { has_name_list = name_list_bolghar }	
			}
			OR = {
				exists = primary_title
			}
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	# Prince Emperor
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Prince_Emperor
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				culture = { has_name_list = name_list_shatuo }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}			
			has_any_nickname = no
			exists = father
			father = {
				exists = primary_title
				primary_title.tier = tier_empire
			}
			OR = {
				NOT = { exists = primary_title }
				primary_title.tier <= tier_duchy
			}
			OR = {
				NOT = { exists = primary_spouse }
				NOT = { exists = primary_spouse.primary_title }
				primary_spouse.primary_title.tier <= tier_duchy
			}
			# NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	# Prince King
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Prince_King
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440
				culture = { has_name_list = name_list_shatuo }
			}
			has_any_nickname = no
			exists = father
			father = {
				exists = primary_title
				primary_title.tier = tier_kingdom
			}
			OR = {
				NOT = { exists = primary_title }
				primary_title.tier <= tier_duchy
			}
			OR = {
				NOT = { exists = primary_spouse }
				NOT = { exists = primary_spouse.primary_title }
				primary_spouse.primary_title.tier <= tier_duchy
			}
			# NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	# Queen
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Queen
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_shatuo }
				dynasty = dynasty:1000102440
			}
			exists = primary_spouse
			liege = primary_spouse
			primary_spouse.primary_title.tier = tier_kingdom
			liege = {
				exists = primary_title
				primary_title.tier = tier_kingdom
			}
			OR = {
				is_ruler = no
				highest_held_title_tier < tier_empire
			}
			NOT = { primary_title = title:d_gosho }
		}
	}
	# Empress
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Empress
		trigger = {
			exists = primary_spouse
			liege = primary_spouse
			primary_spouse.primary_title.tier = tier_empire
			liege = {
				exists = primary_title
				primary_title.tier = tier_empire
				#exists = father.primary_title 
				#primary_title = father.primary_title
			}			
			OR = {
				is_ruler = no
				highest_held_title_tier < tier_empire
			}
			NOT = { primary_title = title:d_gosho }
		}
	}	
	# Empress Mother
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Empress_Mother
		trigger = {
			#has_any_nickname = no
			this = liege.mother
			this = liege.father.primary_spouse
			AND = {
				OR = {
					NOT = { exists = primary_title }
					primary_title.tier < tier_empire
				}
				OR = {
					NOT = { exists = primary_spouse }
					NOT = { exists = primary_spouse.primary_title }
					primary_spouse.primary_title.tier < tier_empire
				}
			}
			liege = {
				exists = primary_title
				primary_title.tier = tier_empire
				exists = father.primary_title 
				primary_title = father.primary_title
			}
			NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	# Empress GrandMother
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Empress_GrandMother
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				culture = { has_name_list = name_list_sogdian }
				culture = { has_name_list = name_list_bai }
				culture = { has_name_list = name_list_shatuo }				
				dynasty = dynasty:1000102440
			}		
			this = liege.father.mother
			this = liege.father.father.primary_spouse
			AND = {
				OR = {
					NOT = { exists = primary_title }
					primary_title.tier < tier_empire
				}
				OR = {
					NOT = { exists = primary_spouse }
					NOT = { exists = primary_spouse.primary_title }
					primary_spouse.primary_title.tier < tier_empire
				}
			}
			liege = {
				exists = primary_title
				primary_title.tier = tier_empire
				exists = father.father.primary_title 
				primary_title = father.father.primary_title
			}
			# NOT = { primary_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}

	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			culture = { NOT = { has_name_list = name_list_shatuo } }
			has_any_nickname = no
			OR = {
				exists = primary_title
			}
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_House
		trigger = {
			OR = {
				culture = { has_name_list = name_list_shatuo }
				culture = { has_cultural_pillar = heritage_yamato }
			}
			OR = {
				exists = primary_title
			}
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_Nanman
		trigger = {
			OR = {
				culture = { has_name_list = name_list_wuman }
				culture = { has_name_list = name_list_qiang }
			}
			NOT = { dynasty = dynasty:1000102440 }
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_nicknamed
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			has_any_nickname = yes
			NOT = { has_title = title:d_gosho }
			exists = primary_title
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_firstname
		trigger = {
			OR = {
				is_landed = no
				is_alive = no
			}
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }					
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			has_any_nickname = no
			has_miaohao_trigger = no
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_firstname_house
		trigger = {						
			is_landed = no				
			OR = {
				culture = { has_name_list = name_list_shatuo }
				culture = { has_cultural_pillar = heritage_yamato }
			}
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = no
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_firstname_nicknamed
		trigger = {
			OR = {
				is_landed = no
				is_alive = no
				AND = {
					culture = { has_cultural_pillar = heritage_yamato }
					dynasty = dynasty:10000420
				}
			}
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			has_any_nickname = yes
			has_miaohao_trigger = no
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_default
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			OR = {
				is_lowborn = yes
				AND = {
					culture = { has_cultural_pillar = heritage_yamato }
					dynasty = dynasty:10000420
				}
			}
			NOT = { has_title = title:d_gosho }
		}
	}
	text = {
		localization_key = Loc_china_GetUINameMHNotMeNoTooltip
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_yamato }
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_shatuo }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				AND = {
					culture = { has_name_list = name_list_sogdian }
					exists = capital_province
					capital_province = { geographical_reigion = world_asia_china }
				}
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
			NOT = { has_title = title:d_gosho }
			has_miaohao_trigger = yes
		}
	}	
	text = {
		localization_key = Loc_OE_TennoGetUINameNotMeNoTooltip
		trigger = {
			AND = {
				culture = { has_cultural_pillar = heritage_yamato }
				dynasty = dynasty:10000420
			}
			OR = {
				AND = {
					exists = primary_title
					primary_title = title:d_gosho
				}
				has_title = title:d_gosho
				has_title = title:k_yamato				
			}
		}
	}
	text = {
		localization_key = Loc_OE_ShanghuangGetUINameNotMeNoTooltip
		trigger = {
			has_trait = joko
		}
	}
	text = {
		localization_key = Loc_OE_TaishanghuangGetUINameNotMeNoTooltip
		trigger = {
			has_trait = shanghuang
		}
	}
	text = {
		localization_key = Loc_OE_FahuangGetUINameNotMeNoTooltip
		trigger = {
			has_trait = hoo
		}
	}
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_default
		fallback = yes
	}
}

# 内阁窗口
OE_GetUIShortUINameNoTooltip = {
	type = character
	text = {
		localization_key = Loc_OE_GetUINameNotMeNoTooltip_firstname
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
				culture = { has_cultural_pillar = heritage_goryeo }
				culture = { has_cultural_pillar = heritage_hunic }
				culture = { has_name_list = name_list_khitan }
				culture = { has_name_list = name_list_jurchen }
				culture = { has_name_list = name_list_tangut }
				culture = { has_name_list = name_list_balhae }
				culture = { has_name_list = name_list_jiaozhi }
				culture = { has_name_list = name_list_tuyuhun }
				culture = { has_name_list = name_list_bai }
				dynasty = dynasty:1000102440

			}
		}
	}
	text = {
		localization_key = Loc_OE_GetUIShortUINameNoTooltip_default
		fallback = yes
	}
}


OE_jizya_special_rights = {
	type = character
	text = {
		localization_key = jizya_special_rights_han
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
			}
		}
	}
	text = {
		localization_key = jizya_special_rights_default
		fallback = yes
	}
}

OE_iqta_special_rights = {
	type = character
	text = {
		localization_key = iqta_special_rights_han
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
			}
		}
	}
	text = {
		localization_key = iqta_special_rights_default
		fallback = yes
	}
}

OE_ghazi_special_rights = {
	type = character
	text = {
		localization_key = ghazi_special_rights_han
		trigger = {
			OR = {
				culture = { has_cultural_pillar = heritage_chinese }
			}
		}
	}
	text = {
		localization_key = ghazi_special_rights_default
		fallback = yes
	}
}