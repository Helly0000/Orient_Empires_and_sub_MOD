pool_bureaucracy_succession = { #这就是科举制
	valid_character = {
		is_capable_adult = yes
		is_imprisoned = no

		OR = {
			culture = { has_cultural_pillar = heritage_chinese }
			culture = { has_innovation = innovation_centralization_of_authority }
			has_same_culture_as = scope:base
			AND = {
				exists = scope:base.primary_title.title_province.culture
				culture = scope:base.primary_title.title_province.culture
			}
		}
		OR = {
			location.province_owner = { top_liege = scope:base.top_liege }
			location = scope:base.top_liege.capital_province
		}
		trigger_if = {
			limit = {
				scope:base = { has_realm_law = female_only_law }
			}
			is_female = yes
		}
		trigger_if = {
			limit = {
				scope:base = { has_realm_law = male_only_law }
			}
			is_male = yes
		}
	}
	
	character_score = {
		base = 0
		modifier = {
			add = 15
			culture = { has_same_culture_heritage = scope:base.culture }
		}
		modifier = {
			add = 10
			culture = { has_same_culture_language = scope:base.culture }
		}
		modifier = {
			add = 5
			culture = { has_same_culture_ethos = scope:base.culture }
		}

		modifier = { #随从
			add = 20
			is_courtier_of = scope:base
		}
		modifier = { #亲戚
			add = 20
			AND = {
				exists = dynasty
				exists = scope:base.dynasty
				dynasty = scope:base.dynasty				
			}
		}
		modifier = { #年级
			add = { value = age max = 30 }
		}
		modifier = { #教育
			add = 10
			has_education_stewardship_trigger = yes
		}
		modifier = { #寒门
			add = 10 	
			is_lowborn = yes
		}
		modifier = { #中产
			add = 10 	
			AND = {
				exists = dynasty
				dynasty = {
					any_dynasty_member = {
						count < 10
					}
				}
			}
		}
		modifier = { #门第
			factor = {
				value = scope:base.dynasty.dynasty_prestige_level
			} 
		}
		modifier = { #考分
			add = learning
		}
		modifier = { #女子无才便是德
			factor = 0
			is_female = yes
		}
		modifier = { #资历
			factor = 0
			has_trait_rank = {
				trait = BureaucracyEmpire_lifestyle_bureaucrat
				rank > 2
			}
		}
	}
	
	config = {
		background = bureaucrat
		age = { 16 55 }
	}
	
	selection_count = 25  #候补梯队
	
	pool = heritage
	court = no
	gender = male
}



pool_bureaucrat = { #这就是流官制
	valid_character = {
		is_capable_adult = yes
		is_imprisoned = no

		OR = {
			culture = { has_cultural_pillar = heritage_chinese }
			culture = { has_innovation = innovation_centralization_of_authority }
			has_same_culture_as = scope:base
			has_same_culture_as = scope:base.top_liege
			AND = {
				exists = scope:base.primary_title.title_province.culture
				culture = scope:base.primary_title.title_province.culture
			}
		}

		trigger_if = {
			limit = {
				scope:base = { has_realm_law = female_only_law }
			}
			is_female = yes
		}
		trigger_if = {
			limit = {
				scope:base = { has_realm_law = male_only_law }
			}
			is_male = yes
		}
		OR = {
			location.province_owner = { top_liege = scope:base.top_liege }
			location = scope:base.top_liege.capital_province
			AND = {
				location.province_owner.top_liege = {
					NOT = { is_at_war_with = scope:base.top_liege }
				}
				OR = {
					has_trait = BureaucracyEmpire_lifestyle_bureaucrat
					has_trait = jinshi
				}
			}
		}
	}
	
	character_score = {
		base = 0
		
		#资历
		modifier = {
			add = { value = bureaucracy_exp_value }
		}
		#幕僚
		modifier = {
			add = 15
			is_courtier_of = scope:base
		}
		#考分
		compare_modifier = {
			value = learning
		}
		#门第
		modifier = {
			add = 20
			any_close_or_extended_family_member = {
				OR = {
					is_courtier_of = scope:base.top_liege
					target_is_liege_or_above = scope:base.top_liege
				}
			}
		}
		modifier = { #中产
			add = 20 	
			AND = {
				exists = dynasty
				dynasty = {
					any_dynasty_member = {
						count > 5
					}
				}
			}
		}
		modifier = {
			add = 10
			has_trait = jinshi
		}
		modifier = {
			scope:base.primary_title.tier = tier_barony
			has_trait_rank = {
				trait = BureaucracyEmpire_lifestyle_bureaucrat
				rank = 1
			}
			add = 10
		}
		modifier = {
			scope:base.primary_title.tier = tier_county
			has_trait_rank = {
				trait = BureaucracyEmpire_lifestyle_bureaucrat
				rank < 3
			}
			add = 30
		}
		modifier = {
			scope:base.primary_title.tier = tier_duchy
			has_trait_rank = {
				trait = BureaucracyEmpire_lifestyle_bureaucrat
				rank >= 3
			}
			add = 20
		}
		modifier = {
			scope:base.primary_title.tier = tier_kingdom
			has_trait_rank = {
				trait = BureaucracyEmpire_lifestyle_bureaucrat
				rank >= 4
			}
			add = 20
		}
		modifier = { #玩家继承人
			add = 1000	
			is_player_heir_of_trigger = { CHARACTER = scope:base }
		}
		modifier = { #玩家继承人
			add = 1000
			any_parent = { is_ai = no }
		}		
	}
	
	
	config = {
		background = bureaucrat
		age = { 30 55}
	}
	
	selection_count = 15
	
	pool = heritage
	court = no
	gender = male
}