# Adventurer - Choose destination
# By Bianca Savazzi and Linnéa Thimrén

# What options should we show?
scripted_effect fund_inspiration_0051_pick_options_to_show_effect = {
	hidden_effect = {
		random_list = {
			1 = {
				# Africa
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_africa
						}
					}
					NOT = { exists = scope:africa_option }
				}
				save_scope_value_as = {
					name = africa_option
					value = yes
				}
			}
			1 = {
				# West Africa
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_africa_west
						}
					}
					NOT = { exists = scope:africa_west_option }
				}
				save_scope_value_as = {
					name = africa_west_option
					value = yes
				}
			}
			1 = {
				# North Africa
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_africa_north
						}
					}
					NOT = { exists = scope:africa_north_option }
				}
				save_scope_value_as = {
					name = africa_north_option
					value = yes
				}
			}
			1 = {
				# East Africa
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_africa_east
						}
					}
					NOT = { exists = scope:africa_east_option }
				}
				save_scope_value_as = {
					name = africa_east_option
					value = yes
				}
			}
			1 = {
				# Europe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_europe
						}
					}
					NOT = { exists = scope:europe_option }
				}
				save_scope_value_as = {
					name = europe_option
					value = yes
				}
			}
			1 = {
				# North Europe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_europe_north
						}
					}
					NOT = { exists = scope:europe_north_option }
				}
				save_scope_value_as = {
					name = europe_north_option
					value = yes
				}
			}
			1 = {
				# South Europe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_europe_south
						}
					}
					NOT = { exists = scope:europe_south_option }
				}
				save_scope_value_as = {
					name = europe_south_option
					value = yes
				}
			}
			1 = {
				# West Europe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_europe_west
						}
					}
					NOT = { exists = scope:europe_west_option }
				}
				save_scope_value_as = {
					name = europe_west_option
					value = yes
				}
			}
			1 = {
				# East Europe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_europe_east
						}
					}
					NOT = { exists = scope:europe_east_option }
				}
				save_scope_value_as = {
					name = europe_east_option
					value = yes
				}
			}
			1 = {
				# Middle East
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_middle_east
						}
					}
					NOT = { exists = scope:middle_east_option }
				}
				save_scope_value_as = {
					name = middle_east_option
					value = yes
				}
			}
			1 = {
				# Middle East - Jerusalem
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_middle_east_jerusalem
						}
					}
					NOT = { exists = scope:middle_east_jerusalem_option }
				}
				save_scope_value_as = {
					name = middle_east_jerusalem_option
					value = yes
				}
			}
			1 = {
				# Middle East - Arabia
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_middle_east_arabia
						}
					}
					NOT = { exists = scope:middle_east_arabia_option }
				}
				save_scope_value_as = {
					name = middle_east_arabia_option
					value = yes
				}
			}
			1 = {
				# Middle East - Persia
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_middle_east_persia
						}
					}
					NOT = { exists = scope:middle_east_persia_option }
				}
				save_scope_value_as = {
					name = middle_east_persia_option
					value = yes
				}
			}
			1 = {
				# India
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_india
						}
					}
					NOT = { exists = scope:india_option }
				}
				save_scope_value_as = {
					name = india_option
					value = yes
				}
			}
			1 = {
				# India - Deccan
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_india_deccan
						}
					}
					NOT = { exists = scope:india_deccan_option }
				}
				save_scope_value_as = {
					name = india_deccan_option
					value = yes
				}
			}
			1 = {
				# India - Bengal
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_india_bengal
						}
					}
					NOT = { exists = scope:india_bengal_option }
				}
				save_scope_value_as = {
					name = india_bengal_option
					value = yes
				}
			}
			1 = {
				# India - Rajastan
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_india_rajastan
						}
					}
					NOT = { exists = scope:india_rajastan_option }
				}
				save_scope_value_as = {
					name = india_rajastan_option
					value = yes
				}
			}
			1 = {
				# The Steppe
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_steppe
						}
					}
					NOT = { exists = scope:steppe_option }
				}
				save_scope_value_as = {
					name = steppe_option
					value = yes
				}
			}
			1 = {
				# The Steppe - West
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_steppe_west
						}
					}
					NOT = { exists = scope:steppe_west_option }
				}
				save_scope_value_as = {
					name = steppe_west_option
					value = yes
				}
			}
			1 = {
				# The Steppe - East
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_steppe_east
						}
					}
					NOT = { exists = scope:steppe_east_option }
				}
				save_scope_value_as = {
					name = steppe_east_option
					value = yes
				}
			}
			1 = {
				# The Steppe - Tarim
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_steppe_tarim
						}
					}
					NOT = { exists = scope:steppe_tarim_option }
				}
				save_scope_value_as = {
					name = steppe_tarim_option
					value = yes
				}
			}
			1 = {
				# Asia - Minor
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia_minor
						}
					}
					NOT = { exists = scope:asia_minor_option }
				}
				save_scope_value_as = {
					name = asia_minor_option
					value = yes
				}
			}
			1 = {
				# Burma
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_burma
						}
					}
					NOT = { exists = scope:burma_option }
				}
				save_scope_value_as = {
					name = burma_option
					value = yes
				}
			}
			1 = {
				# Tibet
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_tibet
						}
					}
					NOT = { exists = scope:tibet_option }
				}
				save_scope_value_as = {
					name = tibet_option
					value = yes
				}
			}
			5 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia
						}
					}
					NOT = { exists = scope:asia_option }
				}
				save_scope_value_as = {
					name = asia_option
					value = yes
				}
			}
			1 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia_china
						}
					}
					NOT = { exists = scope:asia_china_option }
				}
				save_scope_value_as = {
					name = asia_china_option
					value = yes
				}
			}
			1 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia_japan
						}
					}
					NOT = { exists = scope:asia_japan_option }
				}
				save_scope_value_as = {
					name = asia_japan_option
					value = yes
				}
			}
			1 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia_korea
						}
					}
					NOT = { exists = scope:asia_korea_option }
				}
				save_scope_value_as = {
					name = asia_korea_option
					value = yes
				}
			}
			1 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_steppe_tartaria
						}
					}
					NOT = { exists = scope:steppe_tartaria_option }
				}
				save_scope_value_as = {
					name = steppe_tartaria_option
					value = yes
				}
			}
			1 = {
				# 
				trigger = {
					scope:inspiration_owner = {
						adventurer_potential_destination_distance_check = {
							REGION = world_asia_southeast
						}
					}
					NOT = { exists = scope:asia_southeast_option }
				}
				save_scope_value_as = {
					name = asia_southeast_option
					value = yes
				}
			}
		}
	}
}

fund_inspiration.0051 = {
	type = character_event
	title = fund_inspiration.0001.t
	desc = fund_inspiration.0051.desc
	theme = realm
	left_portrait = {
		character = scope:inspiration_owner
		animation = personality_honorable
	}

	trigger = {
		scope:inspiration = {
			has_inspiration_type = adventure_inspiration
			inspiration_owner = { #They haven't already decided where to go 
				NOT = { exists = var:adventure_destination }
			}
		}
	}

	immediate = {
		play_music_cue = "mx_cue_epic_sacral_moment"
		#Saving some scopes for the tooltips

		save_scope_as = actor
		scope:inspiration_owner = {
			assign_quirk_effect = yes
			save_scope_as = recipient
		}
		show_as_tooltip = {
			fund_inspiration_effect = yes
		}
		fund_inspiration_0051_pick_options_to_show_effect = yes
		fund_inspiration_0051_pick_options_to_show_effect = yes
		fund_inspiration_0051_pick_options_to_show_effect = yes
	}

	option = { #africa
		name = fund_inspiration.0051.africa
		trigger = { exists = scope:africa_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:africa
			}
		}

		ai_chance = {
			base = 50
		}
	}

	option = { #africa_west
		name = fund_inspiration.0051.africa_west
		trigger = { exists = scope:africa_west_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:africa_west
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #africa_north
		name = fund_inspiration.0051.africa_north
		trigger = { exists = scope:africa_north_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:africa_north
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #africa_east
		name = fund_inspiration.0051.africa_east
		trigger = { exists = scope:africa_east_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:africa_east
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #europe
		name = fund_inspiration.0051.europe
		trigger = { exists = scope:europe_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:europe
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #europe_north
		name = fund_inspiration.0051.europe_north
		trigger = { exists = scope:europe_north_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:europe_north
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #europe_south
		name = fund_inspiration.0051.europe_south
		trigger = { exists = scope:europe_south_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:europe_south
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #europe_west
		name = fund_inspiration.0051.europe_west
		trigger = { exists = scope:europe_west_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:europe_west
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #europe_east
		name = fund_inspiration.0051.europe_east
		trigger = { exists = scope:europe_east_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:europe_east
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #middle_east
		name = fund_inspiration.0051.middle_east
		trigger = { exists = scope:middle_east_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:middle_east
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #middle_east_jerusalem
		name = fund_inspiration.0051.middle_east_jerusalem
		trigger = { exists = scope:middle_east_jerusalem_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:middle_east_jerusalem
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #middle_east_arabia
		name = fund_inspiration.0051.middle_east_arabia
		trigger = { exists = scope:middle_east_arabia_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:middle_east_arabia
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #middle_east_persia
		name = fund_inspiration.0051.middle_east_persia
		trigger = { exists = scope:middle_east_persia_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:middle_east_persia
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #india
		name = fund_inspiration.0051.india
		trigger = { exists = scope:india_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:india
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #india_deccan
		name = fund_inspiration.0051.india_deccan
		trigger = { exists = scope:india_deccan_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:india_deccan
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #india_bengal
		name = fund_inspiration.0051.india_bengal
		trigger = { exists = scope:india_bengal_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:india_bengal
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #india_rajastan
		name = fund_inspiration.0051.india_rajastan
		trigger = { exists = scope:india_rajastan_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:india_rajastan
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #steppe
		name = fund_inspiration.0051.steppe
		trigger = { exists = scope:steppe_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:steppe
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #steppe_west
		name = fund_inspiration.0051.steppe_west
		trigger = { exists = scope:steppe_west_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:steppe_west
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #steppe_east
		name = fund_inspiration.0051.steppe_east
		trigger = { exists = scope:steppe_east_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:steppe_east
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #steppe_tarim
		name = fund_inspiration.0051.steppe_tarim
		trigger = { exists = scope:steppe_tarim_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:steppe_tarim
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #asia_minor
		name = fund_inspiration.0051.asia_minor
		trigger = { exists = scope:asia_minor_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia_minor
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #burma
		name = fund_inspiration.0051.burma
		trigger = { exists = scope:burma_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:burma
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #tibet
		name = fund_inspiration.0051.tibet
		trigger = { exists = scope:burma_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:tibet
			}
		}
		ai_chance = {
			base = 50
		}
	}
    # 东亚选项
	option = { 
		name = fund_inspiration.0051.asia
		trigger = { exists = scope:asia_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { 
		name = fund_inspiration.0051.asia_china
		trigger = { exists = scope:asia_china_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia_china
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { 
		name = fund_inspiration.0051.asia_korea
		trigger = { exists = scope:asia_korea_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia_korea
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { 
		name = fund_inspiration.0051.asia_japan
		trigger = { exists = scope:asia_japan_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia_japan
			}
		}
		ai_chance = {
			base = 50
		}
	}
	option = { 
		name = fund_inspiration.0051.steppe_tartaria
		trigger = { exists = scope:steppe_tartaria_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:steppe_tartaria
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { 
		name = fund_inspiration.0051.asia_southeast
		trigger = { exists = scope:asia_southeast_option }
		custom_tooltip = fund_inspiration.you_decide_option_tt
		scope:inspiration_owner = {
			set_variable = {
				name = adventure_destination
				value = flag:asia_southeast
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = { #Go where you want to go!
		name = fund_inspiration.0051.d
		custom_tooltip = fund_inspiration.they_decide_option_tt
		set_adventure_location_effect = {
			BASE_SCOPE = scope:inspiration_owner
			NO_DESTINATION = no
		}

		ai_chance = {
			base = 5
			modifier = {
				add = 25
				OR = {
					has_trait = arbitrary
					has_trait = lazy
				}
			}
		}
	}
}


# Adventure maintenance, to make sure the inspiration progresses and to trigger the completion event 

scripted_effect fund_adventure_inspiration_travel_progress_activity_effect = {
	if = { # Africa
		limit = {
			var:adventure_destination = flag:africa
		}
		random_county_in_region = {
			region = world_africa
			save_scope_as = location
		}
	}
	else_if = { # West Africa
		limit = {
			var:adventure_destination = flag:africa_west
		}
		random_county_in_region = {
			region = world_africa_west
			save_scope_as = location
		}
	}
	else_if = { # North Africa
		limit = {
			var:adventure_destination = flag:africa_north
		}
		random_county_in_region = {
			region = world_africa_north
			save_scope_as = location
		}
	}
	else_if = { # East Africa
		limit = {
			var:adventure_destination = flag:africa_east
		}
		random_county_in_region = {
			region = world_africa_east
			save_scope_as = location
		}
	}
	else_if = { # Europe
		limit = {
			var:adventure_destination = flag:europe
		}
		random_county_in_region = {
			region = world_europe
			save_scope_as = location
		}
	}
	else_if = { # North Europe
		limit = {
			var:adventure_destination = flag:europe_north
		}
		random_county_in_region = {
			region = world_europe_north
			save_scope_as = location
		}
	}
	else_if = { # South Europe
		limit = {
			var:adventure_destination = flag:europe_south
		}
		random_county_in_region = {
			region = world_europe_south
			save_scope_as = location
		}
	}
	else_if = { # West Europe
		limit = {
			var:adventure_destination = flag:europe_west
		}
		random_county_in_region = {
			region = world_europe_west
			save_scope_as = location
		}
	}
	else_if = { # East Europe
		limit = {
			var:adventure_destination = flag:europe_east
		}
		random_county_in_region = {
			region = world_europe_east
			save_scope_as = location
		}
	}
	else_if = { # Middle East
		limit = {
			var:adventure_destination = flag:middle_east
		}
		random_county_in_region = {
			region = world_middle_east
			save_scope_as = location
		}
	}
	else_if = { # Middle East - Jerusalem
		limit = {
			var:adventure_destination = flag:middle_east_jerusalem
		}
		random_county_in_region = {
			region = world_middle_east_jerusalem
			save_scope_as = location
		}
	}
	else_if = { # Middle East - Arabia
		limit = {
			var:adventure_destination = flag:middle_east_arabia
		}
		random_county_in_region = {
			region = world_middle_east_arabia
			save_scope_as = location
		}
	}
	else_if = { # Middle East - Persia
		limit = {
			var:adventure_destination = flag:middle_east_persia
		}
		random_county_in_region = {
			region = world_middle_east_persia
			save_scope_as = location
		}
	}
	else_if = { # India
		limit = {
			var:adventure_destination = flag:india
		}
		random_county_in_region = {
			region = world_india
			save_scope_as = location
		}
	}
	else_if = { # India - Deccan
		limit = {
			var:adventure_destination = flag:india_deccan
		}
		random_county_in_region = {
			region = world_india_deccan
			save_scope_as = location
		}
	}
	else_if = { # India - Bengal
		limit = {
			var:adventure_destination = flag:india_bengal
		}
		random_county_in_region = {
			region = world_india_bengal
			save_scope_as = location
		}
	}
	else_if = { # India - Rajastan
		limit = {
			var:adventure_destination = flag:india_rajastan
		}
		random_county_in_region = {
			region = world_india_rajastan
			save_scope_as = location
		}
	}
	else_if = { # The Steppe
		limit = {
			var:adventure_destination = flag:steppe
		}
		random_county_in_region = {
			region = world_steppe
			save_scope_as = location
		}
	}
	else_if = { # The Steppe - West
		limit = {
			var:adventure_destination = flag:steppe_west
		}
		random_county_in_region = {
			region = world_steppe_west
			save_scope_as = location
		}
	}
	else_if = { # The Steppe - East
		limit = {
			var:adventure_destination = flag:steppe_east
		}
		random_county_in_region = {
			region = world_steppe_east
			save_scope_as = location
		}
	}
	else_if = { # The Steppe - Tarim
		limit = {
			var:adventure_destination = flag:steppe_tarim
		}
		random_county_in_region = {
			region = world_steppe_tarim
			save_scope_as = location
		}
	}
	else_if = { # Asia - Minor
		limit = {
			var:adventure_destination = flag:asia_minor
		}
		random_county_in_region = {
			region = world_asia_minor
			save_scope_as = location
		}
	}
	else_if = { # Burma
		limit = {
			var:adventure_destination = flag:burma
		}
		random_county_in_region = {
			region = world_burma
			save_scope_as = location
		}
	}
	else_if = { # Tibet
		limit = {
			var:adventure_destination = flag:tibet
		}
		random_county_in_region = {
			region = world_tibet
			save_scope_as = location
		}
	}
	#东亚地区
	else_if = { #
		limit = {
			var:adventure_destination = flag:asia
		}
		random_county_in_region = {
			region = world_asia
			save_scope_as = location
		}
	}
	else_if = { #
		limit = {
			var:adventure_destination = flag:asia_china
		}
		random_county_in_region = {
			region = world_asia_china
			save_scope_as = location
		}
	}
	else_if = { #
		limit = {
			var:adventure_destination = flag:asia_southeast
		}
		random_county_in_region = {
			region = world_asia_southeast
			save_scope_as = location
		}
	}
	else_if = { #
		limit = {
			var:adventure_destination = flag:steppe_tartaria
		}
		random_county_in_region = {
			region = world_steppe_tartaria
			save_scope_as = location
		}
	}
	else_if = { #
		limit = {
			var:adventure_destination = flag:asia_japan
		}
		random_county_in_region = {
			region = world_asia_japan
			save_scope_as = location
		}
	}
	else_if = { #
		limit = {
			var:adventure_destination = flag:asia_korea
		}
		random_county_in_region = {
			region = world_asia_korea
			save_scope_as = location
		}
	}

	scope:inspiration_owner.activity = {
		move_activity = scope:location.title_province
	}
}

#Adventurer gets lost... this can be a good thing though
fund_inspiration.5021 = {
	type = character_event
	title = fund_inspiration.5021.t
	desc = fund_inspiration.5021.desc
	theme = realm

	left_portrait = {
		character = scope:adventurer_aide
		animation = beg
	}

	right_portrait = {
		character = scope:inspiration_owner
		animation = happiness 
	}
	cooldown = { years = 15 }

	trigger = {
		exists = scope:inspiration
		scope:inspiration_owner = {
			exists = var:adventure_destination
			exists = var:adventure_type
			has_no_inspiration_event_cooldown = yes
			NOT = { has_character_flag = had_event_fund_inspiration_5021 }
			adventure_inspiration_average_skill_value < high_inspiration_skill
		}
		exists = scope:inspiration_owner.activity
	}

	weight_multiplier = {
		base = 1
		# More likely to happen if the adventurer is adventurous, and maybe a bit scatterbrained 
		modifier = {
			add = 2
			scope:inspiration_owner = {
				has_trait = fickle
			}
		}
		modifier = {
			add = 2
			scope:inspiration_owner = {
				has_trait = adventurer
			}
		}
		modifier = {
			add = 2
			scope:inspiration_owner = {
				has_trait = brave
			}
		}
		modifier = {
			add = 2
			scope:inspiration_owner = {
				has_trait = stubborn #refusing to ask for direction
			}
		}
		modifier = {
			add = -1
			scope:inspiration_owner = {
				adventure_inspiration_average_skill_value >= high_inspiration_skill
			}
		}
	}

	immediate = {
		scope:inspiration_owner = {
			# Very long time-out added since we don't want to risk this triggering again. The flag is removed in the completion effect
			add_character_flag = {
				flag = had_event_fund_inspiration_5021
				years = 20
			}
			#To stagger any following events
			add_character_flag = {
				flag = fund_adventure_inspiration_event_cooldown
				days = { 30 60 }
			}
		}

		#Prioritize location that root doesn't have a county in 
		hidden_effect = {
			random_list = {
				1 = {
					# Africa 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_africa
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_africa
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:africa }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_africa
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_africa
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_africa_location
						value = yes
					}
				}
				1 = {
					# Europe  
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_europe
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_europe
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:europe }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_europe
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_europe
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_europe_location
						value = yes
					}
				}
				1 = {
					# Middle East  
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_middle_east
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_middle_east
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:middle_east }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_middle_east
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_middle_east
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_middle_east_location
						value = yes
					}
				}
				1 = {
					# Asia Minor 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia_minor
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia_minor
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia_minor }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia_minor
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia_minor
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_minor_location
						value = yes
					}
				}
				1 = {
					# India
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_india
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_india
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:india }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_india
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_india
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_india_location
						value = yes
					}
				}
				1 = {
					# Steppe
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_steppe
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_steppe
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:steppe }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_steppe
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_steppe
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_steppe_location
						value = yes
					}
				}
				1 = {
					# Persia
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_middle_east_persia
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_middle_east_persia
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:middle_east_persia }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_middle_east_persia
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_middle_east_persia
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_middle_east_persia_location
						value = yes
					}
				}
				1 = {
					# Burma
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_burma
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_burma
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:burma }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_burma
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_burma
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_burma_location
						value = yes
					}
				}
				1 = {
					# Tibet
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_tibet
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_tibet
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:tibet }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_tibet
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_tibet
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_tibet_location
						value = yes
					}
				}
				#东亚地区
				5 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_location
						value = yes
					}
				}
				1 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia_china
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia_china
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia_china }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia_china
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia_china
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_china_location
						value = yes
					}
				}
				1 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia_japan
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia_japan
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia_japan }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia_japan
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia_japan
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_japan_location
						value = yes
					}
				}
				1 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia_korea
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia_korea
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia_korea }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia_korea
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia_korea
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_korea_location
						value = yes
					}
				}
				1 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_asia_southeast
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_asia_southeast
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:asia_southeast }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_asia_southeast
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_asia_southeast
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_asia_southeast_location
						value = yes
					}
				}
				1 = {
					# 
					trigger = {
	  					#There's a county you don't hold there
	  					any_county_in_region = {
							region = world_steppe_tartaria
							NOT = { holder = root }
						}
						scope:inspiration_owner = { #Distance check - from where the adventurer is right now.
							adventurer_potential_destination_distance_check = {
								REGION = world_steppe_tartaria
							}
						}
						#This was not the original destination of the adventurer
	  					NOT = { scope:inspiration_owner.var:adventure_destination = flag:steppe_tartaria }
					}
					modifier = {
						add = 30
						NOT = {
							any_county_in_region = {
								region = world_steppe_tartaria
								holder = root 
								count >= 1
							}
						}
					}
					random_county_in_region = {
						region = world_steppe_tartaria
						limit = { 
							NOT = { holder = root }
						}
						save_scope_as = adventuring_location
					}
					save_scope_value_as = {
						name = world_steppe_tartaria_location
						value = yes
					}
				}
			}

			if = {
				limit = { exists = scope:adventuring_location }
				create_character = {
					location = root.location
					template = hunter_template
					culture = scope:adventuring_location.culture
					faith = scope:adventuring_location.faith
					dynasty = none
					save_scope_as = adventurer_aide
				}
			}
			else = { # Fallback in case that a region could not be selected for some reason, purely theoretical fix -h
				create_character = {
					location = root.location
					template = hunter_template
					culture = root.culture
					faith = root.faith
					dynasty = none
					save_scope_as = adventurer_aide
				}
				debug_log = "WARNING: create_character fallback triggered in ep1 fund_inspiration.5021, something went wrong!"
			}
		}
	}

	#No, go back!
	option = { 
		name = fund_inspiration.5021.a
		custom_tooltip = fund_inspiration.5021.a.tt
		scope:inspiration_owner = { 
			add_opinion = {
				modifier = disappointed_opinion
				target = root
				opinion = -25
			}
		}

		ai_chance = {
			base = 10
			ai_greed_target_modifier = { VALUE = 25 } #not too high since there's a chance to get a cooler artifact
		}
	}

	#Explore!
	option = {
		name = fund_inspiration.5021.b
		custom_tooltip = fund_inspiration.5021.b.tt
		scope:inspiration = {
			invest_gold = 60
		}
		scope:inspiration_owner = {
			change_artifact_quality_effect = {
				AMOUNT = 4
			}
		}
		scope:inspiration_owner = { 
			add_opinion = {
				modifier = pleased_opinion
				target = root
				opinion = 25
			}
			if = {
				limit = {
					exists = scope:world_africa_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:africa
				}
			}
			else_if = {
				limit = {
					exists = scope:world_europe_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:europe
				}
			}
			else_if = {
				limit = {
					exists = scope:world_middle_east_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:middle_east
				}
			}
			else_if = {
				limit = {
					exists = scope:world_asia_minor_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia_minor
				}
			}
			else_if = {
				limit = {
					exists = scope:world_india_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:india
				}
			}
			else_if = {
				limit = {
					exists = scope:world_steppe_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:steppe
				}
			}
			else_if = {
				limit = {
					exists = scope:world_middle_east_persia_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:middle_east_persia
				}
			}
			else_if = {
				limit = {
					exists = scope:world_burma_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:burma
				}
			}
			else_if = {
				limit = {
					exists = scope:world_tibet_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:tibet
				}
			}
			#东亚地区
			else_if = {
				limit = {
					exists = scope:world_asia_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia
				}
			}
			else_if = {
				limit = {
					exists = scope:world_asia_china_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia_china
				}
			}
			else_if = {
				limit = {
					exists = scope:world_asia_korea_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia_korea
				}
			}
			else_if = {
				limit = {
					exists = scope:world_asia_japan_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia_japan
				}
			}
			else_if = {
				limit = {
					exists = scope:world_asia_southeast_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:asia_southeast
				}
			}
			else_if = {
				limit = {
					exists = scope:world_steppe_tartaria_location
				}
				set_variable = {
					name = adventure_destination
					value = flag:steppe_tartaria
				}
			}
			hidden_effect = {
				scope:inspiration_owner.activity = {
					move_activity = scope:adventuring_location.title_province
				}
			}
		}

		ai_chance = {
			base = 10
			ai_boldness_target_modifier = { VALUE = 100 }
			modifier = {
				short_term_gold < 60 #shouldn't spend money they don't have...
				factor = 0
			}
		}
	}

	after = {
		scope:adventurer_aide = {
			silent_disappearance_effect = yes
		}
	}
}